<!DOCTYPE html>
<html>

<head>
    <title>YAHTZEE!</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="css/yahtzee.css">
</head>  
<div class="text-center" id="yahtzee">YAHTZEE</div>
<body>

<div id="fireworks">    
    <div class="before"></div>
    <div class="after"></div>
</div>

<h1 class='text-center'>YAHTZEE!</h1>

<div class="container">
    <div class="row text-center">        
        <div class="col"><div class="dice not-selected"></div></div>
        <div class="col"><div class="dice not-selected"></div></div>
        <div class="col"><div class="dice not-selected"></div></div>
        <div class="col"><div class="dice not-selected"></div></div>
        <div class="col"><div class="dice not-selected"></div></div>        
    </div>
</div>

<div class="text-center"> 
    <button class="btn btn-lg btn-primary" id="roll-button">Roll Dice</button>
</div>


<div id="tabs">    
    <ul class="text-center container">
        <li class='btn btn-secondary'><a href="#tabs-1">Player 1</a></li>
        <li class='btn btn-secondary'><a href="#tabs-2">Player 2</a></li>
        <li class='btn btn-secondary'><a href="#tabs-3">Player 3</a></li>
        <li class='btn btn-secondary'><a href="#tabs-4">Player 4</a></li>
    </ul>

    <div class="container" id="tabs-1">

        <table class="table table-bordered table1">
            <tbody>
                <tr>
                    <th>Upper Section</th>
                    <th>How to Score</th>
                    <th class="width-15">Game #1</th>
                    <th class="width-15">Game #2</th>
                    <th class="width-15">Game #3</th>
                </tr>
                <tr> 
                    <th> 
                        <div>
                            <div>Aces <i class="fas fa-dice-one"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Aces</th>
                    <td class="width-15"><input class="add1"></td>
                    <td class="width-15"><input class="add2"></td>
                    <td class="width-15"><input class="add3"></td>
                </tr>
                <tr> 
                    <th> 
                        <div> 
                            <div>Twos <i class="fas fa-dice-two"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Twoes</th>
                    <td><input class="add1"></td>
                    <td><input class="add2"></td>
                    <td><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Threes <i class="fas fa-dice-three"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Threes</th>
                    <td class="add"><input class="add1"></td>
                    <td class="add"><input class="add2"></td>
                    <td class="add"><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Fours <i class="fas fa-dice-four"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Fours</th>
                    <td class="add"><input class="add1"></td>
                    <td class="add"><input class="add2"></td>
                    <td class="add"><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Fives <i class="fas fa-dice-five"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Fives</th>
                    <td class="add"><input class="add1"></td>
                    <td class="add"><input class="add2"></td>
                    <td class="add"><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Sixes <i class="fas fa-dice-six"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Sixes</th>
                    <td class="add"><input class="add1"></td>
                    <td class="add"><input class="add2"></td>
                    <td class="add"><input class="add3"></td>
                </tr>
                <tr>
                    <th> 
                    <div>
                        <div>Total Score</div>
                    </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-top1' value='0'></td>
                    <td><input class='score-top2' value='0'></td>
                    <td><input class='score-top3' value='0'></td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Bonus</div>
                            <div class="alt">If total score is 63 or over.</div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 35</th>
                    <td><input class='score-bonus1' value='0'></td>
                    <td><input class='score-bonus2' value='0'></td>
                    <td><input class='score-bonus3' value='0'></td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Total</div>
                            <div class="alt">Of Upper Section</div>
                        </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-top-total1' value='0'></td>
                    <td><input class='score-top-total2' value='0'></td>
                    <td><input class='score-top-total3' value='0'></td>
                </tr>
            </tbody>

            <tbody>
                <tr class="head">
                    <th colspan="5">Lower Section</th>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>3 of a kind</div>
                        </div>
                    </th>
                    <th class="how-to-score">Total of all dice </th>
                    <td><input class="add1"></td>
                    <td><input class="add2"></td>
                    <td><input class="add3"></td>
                </tr>
                <tr> 
                    <th> 
                        <div> 
                            <div>4 of a kind </div>
                        </div>
                    </th>
                    <th class="how-to-score">Total of all dice</th>
                    <td><input class="add1"></td>
                    <td><input class="add2"></td>
                    <td><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Full House </div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 25</th>
                    <td><input class="add1"></td>
                    <td><input class="add2"></td>
                    <td><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Sm. Straight </div>
                            <div class="alt">Sequence of four</div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 30</th>
                    <td><input class="add1"></td>
                    <td><input class="add2"></td>
                    <td><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Lg. Straight </div>
                            <div class="alt">Sequence of five</div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 40</th>
                    <td><input class="add1"></td>
                    <td><input class="add2"></td>
                    <td><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>YAHTZEE </div>
                            <div class="alt">Five of a kind</div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 50</th>
                    <td><input class="add1"></td>
                    <td><input class="add2"></td>
                    <td><input class="add3"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Chance </div>
                        </div>
                    </th>
                    <th class="how-to-score">Total of all dice</th>
                    <td><input class="add1"></td>
                    <td><input class="add2"></td>
                    <td><input class="add3"></td>
                </tr>
                <tr> 
                    <th rowspan="2">
                        <div> 
                            <div>YAHTZEE Bonus</div>
                        </div>
                    </th>
                    <th class="how-to-score">&#x2714; for<br>each bonus</th>
                    <td><button class="btn btn-primary" id="tally">YAHTZEE</button></td>
                    <td><button class="btn btn-primary" id="tally">YAHTZEE</button></td>
                    <td><button class="btn btn-primary" id="tally">YAHTZEE</button></td>
                </tr>
                <tr>
                    <th class="how-to-score">Score 100<br>per &#x2714;</th>
                    <td>
                        <div class="container">
                            <ol id="count">&nbsp;</ol>  
                        </div>
                    </td>
                    <td>
                        <div class="container">
                            <ol id="count">&nbsp;</ol>  
                        </div>
                    </td>
                    <td>
                        <div class="container">
                            <ol id="count">&nbsp;</ol>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Total</div>
                            <div class="alt">Of Lower Section</div>
                        </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-lower-total1' value='0'></td>
                    <td><input class='score-lower-total2' value='0'></td>
                    <td><input class='score-lower-total3' value='0'></td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Total</div>
                            <div class="alt">Of Upper Section</div>
                        </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-top-total1' value='0'></td>
                    <td><input class='score-top-total2' value='0'></td>
                    <td><input class='score-top-total3' value='0'></td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Grand Total</div>
                        </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-total1' value='0'></td>
                    <td><input class='score-total2' value='0'></td>
                    <td><input class='score-total3' value='0'></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container"  id="tabs-2">
        <table class="table table-bordered table2">
            <tbody>
                <tr>
                    <th>Upper Section</th>
                    <th>How to Score</th>
                    <th class="width-15">Game #1</th>
                    <th class="width-15">Game #2</th>
                    <th class="width-15">Game #3</th>
                </tr>
                <tr> 
                    <th> 
                        <div>
                            <div>Aces <i class="fas fa-dice-one"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Aces</th>
                    <td class="width-15"><input class="add4"></td>
                    <td class="width-15"><input class="add5"></td>
                    <td class="width-15"><input class="add6"></td>
                </tr>
                <tr> 
                    <th> 
                        <div> 
                            <div>Twos <i class="fas fa-dice-two"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Twoes</th>
                    <td><input class="add4"></td>
                    <td><input class="add5"></td>
                    <td><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Threes <i class="fas fa-dice-three"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Threes</th>
                    <td class="add"><input class="add4"></td>
                    <td class="add"><input class="add5"></td>
                    <td class="add"><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Fours <i class="fas fa-dice-four"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Fours</th>
                    <td class="add"><input class="add4"></td>
                    <td class="add"><input class="add5"></td>
                    <td class="add"><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Fives <i class="fas fa-dice-five"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Fives</th>
                    <td class="add"><input class="add4"></td>
                    <td class="add"><input class="add5"></td>
                    <td class="add"><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Sixes <i class="fas fa-dice-six"></i></div>
                        </div>
                    </th>
                    <th class="how-to-score">Count and Add<br>Only Sixes</th>
                    <td class="add"><input class="add4"></td>
                    <td class="add"><input class="add5"></td>
                    <td class="add"><input class="add6"></td>
                </tr>
                <tr>
                    <th> 
                    <div>
                        <div>Total Score</div>
                    </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-top4' value='0'></td>
                    <td><input class='score-top5' value='0'></td>
                    <td><input class='score-top6' value='0'></td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Bonus</div>
                            <div class="alt">If total score is 66 or over.</div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 65</th>
                    <td><input class='score-bonus4' value='0'></td>
                    <td><input class='score-bonus5' value='0'></td>
                    <td><input class='score-bonus6' value='0'></td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Total</div>
                            <div class="alt">Of Upper Section</div>
                        </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-top-total4' value='0'></td>
                    <td><input class='score-top-total5' value='0'></td>
                    <td><input class='score-top-total6' value='0'></td>
                </tr>
            </tbody>

            <tbody>
                <tr class="head">
                    <th colspan="5">Lower Section</th>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>6 of a kind</div>
                        </div>
                    </th>
                    <th class="how-to-score">Total of all dice </th>
                    <td><input class="add4"></td>
                    <td><input class="add5"></td>
                    <td><input class="add6"></td>
                </tr>
                <tr> 
                    <th> 
                        <div> 
                            <div>4 of a kind </div>
                        </div>
                    </th>
                    <th class="how-to-score">Total of all dice</th>
                    <td><input class="add4"></td>
                    <td><input class="add5"></td>
                    <td><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Full House </div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 55</th>
                    <td><input class="add4"></td>
                    <td><input class="add5"></td>
                    <td><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Sm. Straight </div>
                            <div class="alt">Sequence of four</div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 60</th>
                    <td><input class="add4"></td>
                    <td><input class="add5"></td>
                    <td><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Lg. Straight </div>
                            <div class="alt">Sequence of five</div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 40</th>
                    <td><input class="add4"></td>
                    <td><input class="add5"></td>
                    <td><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>YAHTZEE </div>
                            <div class="alt">Five of a kind</div>
                        </div>
                    </th>
                    <th class="how-to-score">Score 50</th>
                    <td><input class="add4"></td>
                    <td><input class="add5"></td>
                    <td><input class="add6"></td>
                </tr>
                <tr> 
                    <th>
                        <div> 
                            <div>Chance </div>
                        </div>
                    </th>
                    <th class="how-to-score">Total of all dice</th>
                    <td><input class="add4"></td>
                    <td><input class="add5"></td>
                    <td><input class="add6"></td>
                </tr>
                <tr> 
                    <th rowspan="2">
                        <div> 
                            <div>YAHTZEE Bonus</div>
                        </div>
                    </th>
                    <th class="how-to-score">&#x2714; for<br>each bonus</th>
                    <td><button class="btn btn-primary" id="tally">YAHTZEE</button></td>
                    <td><button class="btn btn-primary" id="tally">YAHTZEE</button></td>
                    <td><button class="btn btn-primary" id="tally">YAHTZEE</button></td>
                </tr>
                <tr>
                    <th class="how-to-score">Score 400<br>per &#x2714;</th>
                    <td>
                        <div class="container">
                            <ol id="count">&nbsp;</ol>  
                        </div>
                    </td>
                    <td>
                        <div class="container">
                            <ol id="count">&nbsp;</ol>  
                        </div>
                    </td>
                    <td>
                        <div class="container">
                            <ol id="count">&nbsp;</ol>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Total</div>
                            <div class="alt">Of Lower Section</div>
                        </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-lower-total4' value='0'></td>
                    <td><input class='score-lower-total5' value='0'></td>
                    <td><input class='score-lower-total6' value='0'></td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Total</div>
                            <div class="alt">Of Upper Section</div>
                        </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-top-total4' value='0'></td>
                    <td><input class='score-top-total5' value='0'></td>
                    <td><input class='score-top-total6' value='0'></td>
                </tr>
                <tr>
                    <th> 
                        <div>
                            <div>Grand Total</div>
                        </div>
                    </th>
                    <th class="how-to-score"></th>
                    <td><input class='score-total4' value='0'></td>
                    <td><input class='score-total5' value='0'></td>
                    <td><input class='score-total6' value='0'></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous">        
</script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


<script>

function numberRolled() {
    var randomNumber = Math.floor(Math.random() * 6) + 1;
    return randomNumber;
}

let count = 0;
$('#roll-button').click(function() {
    // reset dice after rolling 3 times
    if (count > 2) {
        $('.dice').removeClass('selected');
        $('.dice').addClass('not-selected');
        $('.dice').text(null);
        count = 0;
        return;
    }
    // check if dice are not-selected and roll
    $('.dice').each(function(i, obj) {
        if ($(this).hasClass('not-selected')) {
            $(this).text(numberRolled());
        }
    });
    count++;
    yahtzee();
});

// add fireworks if yahtzee
function yahtzee(diceValues) {
    var diceValues = ($('.dice').text());
    diceValues = diceValues.split('');

    for (var i = 0; i < diceValues.length - 1; i++) {
        if (diceValues[i] !== diceValues[i + 1]) {
            return;
        }
    }    
    $('#fireworks').addClass('pyro');
    $('body').addClass('black');
    $('input').addClass('black');
    $('#roll-button').hide();
    $('#yahtzee').show();

    setTimeout(function() {
        $('#fireworks').removeClass('pyro');
        $('body').removeClass('black');
        $('input').removeClass('black');
        $('#roll-button').show();
        $('#yahtzee').hide();        
    }, 3000);
}

// toggle dice selection and color
$('.dice').click(function() {
    $(this).toggleClass('selected not-selected');    
});

// yahtzee tally marks
$(function() {
    $('#tally').on('click', function() {
        $('#count').append('<li></li>');
    });
});

$(document).on("change", '.add1', function() { 
    calcSum('.add1', '.score-top1', '.score-bonus1', '.score-top-total1'); 
});
$(document).on("change", '.add2', function() { 
    calcSum('.add2', '.score-top2', '.score-bonus2', '.score-top-total2'); 
});

function calcSum(addClass, scoreTop, scoreBonus, scoreTopTotal)
{
    var sum = 0;
    $(addClass).each(function(){
        sum += +$(this).val();
    });

    $(scoreTop).val(sum);

    if ($(scoreTop).val() > 62) {
        $(scoreBonus).val(35);
    }

    let top = $(scoreTop).val();
    let bonus = $(scoreBonus).val();
    let topTotal = parseInt(top)+ parseInt(bonus);
    $(scoreTopTotal).val(topTotal);
}

$( function() {
    $( "#tabs" ).tabs();
} );

</script>

</body>
</html>
